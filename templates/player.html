<div class="mp-main-container">
  <!-- Sidebar playlists -->
  <div class="mp-sidebar">
    <div class="mp-sidebar-header">
      <span class="mp-sidebar-title">{{playlistsLabel}}</span>
      <button class="mp-btn-new-playlist" title="New playlist">
        <i class="fas fa-plus"></i>
      </button>
    </div>
    <div class="mp-playlist-list">
      {{#each playlistItems}}
      <div class="mp-playlist-item {{#if selected}}selected{{/if}} {{#if playing}}playing{{/if}}" data-playlist-id="{{id}}">
        <span class="mp-playlist-emoji">{{emoji}}</span>
        <span class="mp-playlist-name">{{name}}</span>
        {{#if playing}}
        <i class="fas fa-volume-up mp-playing-icon"></i>
        {{/if}}
        <button class="mp-playlist-vol-toggle" data-playlist-id="{{id}}" title="Volume">
          <i class="fas fa-sliders-h"></i>
        </button>
      </div>
      {{#if volumeExpanded}}
      <div class="mp-playlist-volume-row">
        <i class="fas fa-volume-down mp-pl-vol-icon"></i>
        <input type="range" class="mp-playlist-volume-slider" data-playlist-id="{{id}}" min="0" max="1" step="0.01" value="{{volume}}">
      </div>
      {{/if}}
      {{/each}}
      {{#unless playlistItems.length}}
      <div class="mp-no-playlists">No playlists</div>
      {{/unless}}
    </div>
  </div>

  <!-- Main player area -->
  <div class="mp-player-area">
    <!-- Header -->
    <div class="mp-header">
      <span class="mp-header-icon">ðŸŽµ</span>
      <span class="mp-header-title">The Sounds Player</span>
      <div class="mp-header-bars {{#if anyPlaying}}playing{{/if}}">
        <div class="mp-header-bar"></div>
        <div class="mp-header-bar"></div>
        <div class="mp-header-bar"></div>
        <div class="mp-header-bar"></div>
      </div>
    </div>

    <!-- Slots -->
    <div class="mp-slots-container">
      {{#if hasPlaylist}}
        {{#each slots}}
        <div class="mp-slot has-sound {{#if playing}}playing{{/if}} {{#if active}}active{{/if}}" data-slot="{{index}}" data-sound-id="{{id}}">
          {{#if image}}
          <img class="mp-slot-image" src="{{image}}" alt="">
          <div class="mp-slot-icon" style="display:none;">ðŸŽµ</div>
          {{else}}
          <div class="mp-slot-icon">ðŸŽµ</div>
          {{/if}}
          <div class="mp-slot-name">{{name}}</div>
          <div class="mp-bars">
            <div class="mp-bar"></div>
            <div class="mp-bar"></div>
            <div class="mp-bar"></div>
            <div class="mp-bar"></div>
          </div>
        </div>
        {{/each}}

        <div class="mp-slot mp-slot-add">
          <div class="mp-slot-icon">âž•</div>
        </div>
      {{else}}
        <div class="mp-empty-state">
          <i class="fas fa-music mp-empty-icon"></i>
          <p>{{selectPlaylistLabel}}</p>
        </div>
      {{/if}}
    </div>

    <!-- Player controls -->
    <div class="mp-player">
      <div class="mp-player-info">
        <span class="mp-player-icon">ðŸŽµ</span>
        {{#if hasActiveSound}}
        <span class="mp-player-title">{{activeSoundName}}</span>
        {{else}}
        <span class="mp-player-title mp-no-selection">{{selectSlotLabel}}</span>
        {{/if}}
      </div>

      <div class="mp-timeline-container">
        <div class="mp-timeline">
          <div class="mp-timeline-progress"></div>
        </div>
        <div class="mp-time-display">
          <span class="mp-time-current">0:00</span>
          <span class="mp-time-total">0:00</span>
        </div>
      </div>

      <div class="mp-controls">
        <button class="mp-btn mp-btn-backward" title="Previous">
          <i class="fas fa-step-backward"></i>
        </button>
        <button class="mp-btn mp-btn-stop" title="Stop">
          <i class="fas fa-stop"></i>
        </button>
        <button class="mp-btn mp-btn-play" title="Play/Pause">
          <i class="fas fa-play"></i>
        </button>
        <button class="mp-btn mp-btn-loop {{#if isLooping}}active{{/if}}" title="Loop">
          <i class="fas fa-redo"></i>
        </button>
        <button class="mp-btn mp-btn-forward" title="Next">
          <i class="fas fa-step-forward"></i>
        </button>
      </div>

      <div class="mp-volume-container">
        <span class="mp-volume-icon">ðŸ”Š</span>
        <input type="range" class="mp-volume-slider" min="0" max="1" step="0.01" value="{{volume}}">
      </div>
    </div>
  </div>
</div>
